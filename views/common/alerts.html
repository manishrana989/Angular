<div class="alerts-directive">
    <div class="title">
        <img src="images/notifications-header.png"> <span>{{"NOTIFICATIONS" | translate}} <img ng-click="main.showAlerts=false"
                class="pull-right" src="images/close.png"> </span>
    </div>

    <div class="alerts">
        <div ng-repeat="alert in alerts track by $index">

            <div ng-click="alert.flipped = !alert.flipped;chosenAlert = alert;chosenMessage = ( chosenMessage == $index ? null : $index)" ng-init="alert.flipped=false" class="alert-item">
                <img class="icon" src="images/{{alert.icon}}">

                <div class="alert-title">
                    {{rtl ? alert.titleLName : alert.titleEName}}

                </div>

                <i class="fa pull-right" ng-class="{'fa-angle-down' : alert.flipped, 'fa-angle-left' : rtl, 'fa-angle-right' : !rtl}"></i>
            </div>

            <div ng-if="chosenMessage == $index" class="collapsed-messages">
                <div ng-repeat="msg in chosenAlert.messages" class="messages">
                    <div class="machine-name">
                        {{msg.title}} <span class="pull-right">{{msg.time | date:'hh:mm'}}</span>
                    </div>

                    <div>
                        {{msg.description}}
                    </div>
                </div>
            </div>

        </div>


    </div>
</div>