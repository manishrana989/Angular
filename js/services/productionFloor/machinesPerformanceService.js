angular
  .module("LeaderMESfe")
  .factory(
    "machinesPerformanceService",
    function (
      $timeout,  
      LeaderMESservice,
      shiftService
    ) {
      var initTimeout,startDate,endDate,joshs;
    //    var initMachinePerofrmance = function () {      
    //      startDate = shiftService.shiftData.shiftStartDate
    //      endDate = shiftService.shiftData.shiftEndDate
    //     LeaderMESservice.customAPI("GetMachinesPerformanceComplete", {
    //       MachineID: Object.keys(shiftService.shiftData.machinesDisplay),
    //       StartDate: startDate,
    //       EndDate: endDate,
    //     })
    //       .then((res) => {
    //         if (res.ResponseDataTable) {
    //           shiftService.shiftData.machinesPerformanceJoshs = res.ResponseDataTable[0] || [];
    //         }
    //         const promises = [];
    //         promises.push(
    //           LeaderMESservice.customAPI("GetMachinesPerformanceTotals", {
    //             MachineID: Object.keys(shiftService.shiftData.machinesDisplay),
    //             StartDate: startDate,
    //             EndDate: endDate,
    //           })
    //         );
    //         promises.push(
    //           LeaderMESservice.customAPI("GetWorkersPerformanceTotals", {
    //             MachineID: Object.keys(shiftService.shiftData.machinesDisplay),
    //             StartDate: startDate,
    //             EndDate: endDate,
    //           })
    //         );
    //         Promise.all(promises)
    //           .then((data) => {            
    //             data = "[{\"error\":null,\"Data\":[],\"ResponseList\":null,\"Response\":null,\"ResponseDictionary\":null,\"ResponseDictionaryDT\":{\"Data\":[{\"MachineID\":25,\"UnitsProducedOK\":0,\"UnitsReportedOK\":0,\"UnitsProducedTheoretically\":0,\"UnitsRatio\":0,\"AvailabilityPE\":null,\"CavitiesEfficiency\":1,\"CycleTimeEfficiency\":1,\"QualityIndex\":1,\"PE\":1,\"AvailabilityPETarget\":1,\"CycleTimeEfficiencyTarget\":1,\"CavitiesEfficiencyTarget\":1,\"QualityIndexTarget\":1,\"PETarget\":1,\"ProductionTime\":0,\"ActiveTime\":0,\"DownTime\":0,\"InActiveTime\":0,\"TotalUnitsJosh\":0,\"NumberOfSetups\":0,\"SetupDuration\":0,\"WeightOfRejects\":0,\"NumberOfReportedEvents\":1,\"NumberOfEvents\":1,\"ReportedEventsDuration\":187,\"EventsDuration\":187,\"PercentageByNumberOfEvents\":1,\"PercentageByDurationOfEvents\":1,\"RejectsTotal\":0,\"JoshStartTime\":\"2021-07-06T15:01:25\",\"JoshEndTime\":null,\"JoshID\":null,\"JobID\":null,\"ShiftName\":null,\"WorkerID\":null,\"WorkerName\":null,\"ERPJobID\":null,\"CatalogID\":null,\"Duration\":null,\"ProductName\":null,\"CycleTimeStandard\":null,\"Notes\":null,\"Units/Min std\":null,\"Units/Hour std\":null,\"Units/Min Actual\":null,\"Units/Hour Actual\":null},{\"MachineID\":22,\"UnitsProducedOK\":581,\"UnitsReportedOK\":581,\"UnitsProducedTheoretically\":867.81,\"UnitsRatio\":66.95035842293909,\"AvailabilityPE\":0.9032258064516129,\"CavitiesEfficiency\":1,\"CycleTimeEfficiency\":0.74106,\"QualityIndex\":1,\"PE\":0.6693445161290323,\"AvailabilityPETarget\":1,\"CycleTimeEfficiencyTarget\":1,\"CavitiesEfficiencyTarget\":1,\"QualityIndexTarget\":1,\"PETarget\":1,\"ProductionTime\":168,\"ActiveTime\":186,\"DownTime\":18,\"InActiveTime\":0,\"TotalUnitsJosh\":581,\"NumberOfSetups\":0,\"SetupDuration\":0,\"WeightOfRejects\":0,\"NumberOfReportedEvents\":6,\"NumberOfEvents\":7,\"ReportedEventsDuration\":6,\"EventsDuration\":18,\"PercentageByNumberOfEvents\":0.8571428571428571,\"PercentageByDurationOfEvents\":0.3333333333333333,\"RejectsTotal\":0,\"JoshStartTime\":\"2021-07-06T15:01:24\",\"JoshEndTime\":null,\"JoshID\":null,\"JobID\":null,\"ShiftName\":null,\"WorkerID\":null,\"WorkerName\":null,\"ERPJobID\":null,\"CatalogID\":null,\"Duration\":null,\"ProductName\":null,\"CycleTimeStandard\":null,\"Notes\":null,\"Units/Min std\":null,\"Units/Hour std\":null,\"Units/Min Actual\":null,\"Units/Hour Actual\":null},{\"MachineID\":23,\"UnitsProducedOK\":781,\"UnitsReportedOK\":781,\"UnitsProducedTheoretically\":867.81,\"UnitsRatio\":89.99695340501796,\"AvailabilityPE\":0.9247311827956989,\"CavitiesEfficiency\":1,\"CycleTimeEfficiency\":0.9730000000000001,\"QualityIndex\":1,\"PE\":0.8997634408602151,\"AvailabilityPETarget\":1,\"CycleTimeEfficiencyTarget\":1,\"CavitiesEfficiencyTarget\":1,\"QualityIndexTarget\":1,\"PETarget\":1,\"ProductionTime\":172,\"ActiveTime\":186,\"DownTime\":14,\"InActiveTime\":0,\"TotalUnitsJosh\":781,\"NumberOfSetups\":0,\"SetupDuration\":0,\"WeightOfRejects\":0,\"NumberOfReportedEvents\":6,\"NumberOfEvents\":6,\"ReportedEventsDuration\":15,\"EventsDuration\":15,\"PercentageByNumberOfEvents\":1,\"PercentageByDurationOfEvents\":1,\"RejectsTotal\":0,\"JoshStartTime\":\"2021-07-06T15:01:25\",\"JoshEndTime\":null,\"JoshID\":null,\"JobID\":null,\"ShiftName\":null,\"WorkerID\":null,\"WorkerName\":null,\"ERPJobID\":null,\"CatalogID\":null,\"Duration\":null,\"ProductName\":null,\"CycleTimeStandard\":null,\"Notes\":null,\"Units/Min std\":null,\"Units/Hour std\":null,\"Units/Min Actual\":null,\"Units/Hour Actual\":null},{\"MachineID\":20,\"UnitsProducedOK\":824,\"UnitsReportedOK\":824,\"UnitsProducedTheoretically\":867.81,\"UnitsRatio\":94.95197132616492,\"AvailabilityPE\":0.9354838709677419,\"CavitiesEfficiency\":1,\"CycleTimeEfficiency\":1.01477,\"QualityIndex\":1,\"PE\":0.9493009677419354,\"AvailabilityPETarget\":1,\"CycleTimeEfficiencyTarget\":1,\"CavitiesEfficiencyTarget\":1,\"QualityIndexTarget\":1,\"PETarget\":1,\"ProductionTime\":174,\"ActiveTime\":186,\"DownTime\":12,\"InActiveTime\":0,\"TotalUnitsJosh\":824,\"NumberOfSetups\":0,\"SetupDuration\":0,\"WeightOfRejects\":0,\"NumberOfReportedEvents\":6,\"NumberOfEvents\":6,\"ReportedEventsDuration\":11,\"EventsDuration\":11,\"PercentageByNumberOfEvents\":1,\"PercentageByDurationOfEvents\":1,\"RejectsTotal\":0,\"JoshStartTime\":\"2021-07-06T15:01:24\",\"JoshEndTime\":null,\"JoshID\":null,\"JobID\":null,\"ShiftName\":null,\"WorkerID\":null,\"WorkerName\":null,\"ERPJobID\":null,\"CatalogID\":null,\"Duration\":null,\"ProductName\":null,\"CycleTimeStandard\":null,\"Notes\":null,\"Units/Min std\":null,\"Units/Hour std\":null,\"Units/Min Actual\":null,\"Units/Hour Actual\":null},{\"MachineID\":21,\"UnitsProducedOK\":836,\"UnitsReportedOK\":836,\"UnitsProducedTheoretically\":867.81,\"UnitsRatio\":96.33476702508965,\"AvailabilityPE\":0.9193548387096774,\"CavitiesEfficiency\":1,\"CycleTimeEfficiency\":1.04761,\"QualityIndex\":1,\"PE\":0.9631253225806451,\"AvailabilityPETarget\":1,\"CycleTimeEfficiencyTarget\":1,\"CavitiesEfficiencyTarget\":1,\"QualityIndexTarget\":1,\"PETarget\":1,\"ProductionTime\":171,\"ActiveTime\":186,\"DownTime\":15,\"InActiveTime\":0,\"TotalUnitsJosh\":836,\"NumberOfSetups\":0,\"SetupDuration\":0,\"WeightOfRejects\":0,\"NumberOfReportedEvents\":4,\"NumberOfEvents\":5,\"ReportedEventsDuration\":9,\"EventsDuration\":15,\"PercentageByNumberOfEvents\":0.8,\"PercentageByDurationOfEvents\":0.6,\"RejectsTotal\":0,\"JoshStartTime\":\"2021-07-06T15:01:24\",\"JoshEndTime\":null,\"JoshID\":null,\"JobID\":null,\"ShiftName\":null,\"WorkerID\":null,\"WorkerName\":null,\"ERPJobID\":null,\"CatalogID\":null,\"Duration\":null,\"ProductName\":null,\"CycleTimeStandard\":null,\"Notes\":null,\"Units/Min std\":null,\"Units/Hour std\":null,\"Units/Min Actual\":null,\"Units/Hour Actual\":null},{\"MachineID\":26,\"UnitsProducedOK\":645,\"UnitsReportedOK\":645,\"UnitsProducedTheoretically\":867.81,\"UnitsRatio\":74.32526881720433,\"AvailabilityPE\":0.8387096774193549,\"CavitiesEfficiency\":1,\"CycleTimeEfficiency\":0.88598,\"QualityIndex\":1,\"PE\":0.7430800000000001,\"AvailabilityPETarget\":1,\"CycleTimeEfficiencyTarget\":1,\"CavitiesEfficiencyTarget\":1,\"QualityIndexTarget\":1,\"PETarget\":1,\"ProductionTime\":156,\"ActiveTime\":186,\"DownTime\":30,\"InActiveTime\":0,\"TotalUnitsJosh\":645,\"NumberOfSetups\":0,\"SetupDuration\":0,\"WeightOfRejects\":0,\"NumberOfReportedEvents\":6,\"NumberOfEvents\":8,\"ReportedEventsDuration\":13,\"EventsDuration\":29,\"PercentageByNumberOfEvents\":0.75,\"PercentageByDurationOfEvents\":0.4482758620689655,\"RejectsTotal\":0,\"JoshStartTime\":\"2021-07-06T15:01:25\",\"JoshEndTime\":null,\"JoshID\":null,\"JobID\":null,\"ShiftName\":null,\"WorkerID\":null,\"WorkerName\":null,\"ERPJobID\":null,\"CatalogID\":null,\"Duration\":null,\"ProductName\":null,\"CycleTimeStandard\":null,\"Notes\":null,\"Units/Min std\":null,\"Units/Hour std\":null,\"Units/Min Actual\":null,\"Units/Hour Actual\":null},{\"MachineID\":24,\"UnitsProducedOK\":828,\"UnitsReportedOK\":828,\"UnitsProducedTheoretically\":867.81,\"UnitsRatio\":95.41290322580649,\"AvailabilityPE\":0.9247311827956989,\"CavitiesEfficiency\":1,\"CycleTimeEfficiency\":1.03155,\"QualityIndex\":1,\"PE\":0.9539064516129031,\"AvailabilityPETarget\":1,\"CycleTimeEfficiencyTarget\":1,\"CavitiesEfficiencyTarget\":1,\"QualityIndexTarget\":1,\"PETarget\":1,\"ProductionTime\":172,\"ActiveTime\":186,\"DownTime\":14,\"InActiveTime\":0,\"TotalUnitsJosh\":828,\"NumberOfSetups\":0,\"SetupDuration\":0,\"WeightOfRejects\":0,\"NumberOfReportedEvents\":7,\"NumberOfEvents\":7,\"ReportedEventsDuration\":13,\"EventsDuration\":13,\"PercentageByNumberOfEvents\":1,\"PercentageByDurationOfEvents\":1,\"RejectsTotal\":0,\"JoshStartTime\":\"2021-07-06T15:01:25\",\"JoshEndTime\":null,\"JoshID\":null,\"JobID\":null,\"ShiftName\":null,\"WorkerID\":null,\"WorkerName\":null,\"ERPJobID\":null,\"CatalogID\":null,\"Duration\":null,\"ProductName\":null,\"CycleTimeStandard\":null,\"Notes\":null,\"Units/Min std\":null,\"Units/Hour std\":null,\"Units/Min Actual\":null,\"Units/Hour Actual\":null}],\"Translate\":[{\"ColumnName\":\"WeightOfRejects\",\"Value\":\"Weight of rejects (grm)\"},{\"ColumnName\":\"DownTime\",\"Value\":\"Down Time\"},{\"ColumnName\":\"NumberOfEvents\",\"Value\":\"Number Of Events\"},{\"ColumnName\":\"UnitsProducedOK\",\"Value\":\"Good Units\"},{\"ColumnName\":\"RejectsTotal\",\"Value\":\"Rejects\"},{\"ColumnName\":\"UnitsProducedTheoretically\",\"Value\":\"Theoretical Units\"},{\"ColumnName\":\"PETarget\",\"Value\":\"OEE Target\"},{\"ColumnName\":\"CavitiesEfficiency\",\"Value\":\"Units In Cycle Efficiency \"},{\"ColumnName\":\"CycleTimeEfficiency\",\"Value\":\"Rate Efficiency \"},{\"ColumnName\":\"QualityIndex\",\"Value\":\"Quality index \"},{\"ColumnName\":\"ProductionTime\",\"Value\":\"Production time\"},{\"ColumnName\":\"PE\",\"Value\":\"OEE \"},{\"ColumnName\":\"AvailabilityPE\",\"Value\":\"Availability OEE \"},{\"ColumnName\":\"CycleTimeStandard\",\"Value\":\"Standard Cycle Time\"},{\"ColumnName\":\"AvailabilityPETarget\",\"Value\":\"Availability OEE Target\"},{\"ColumnName\":\"CycleTimeEfficiencyTarget\",\"Value\":\"Rate Efficiency Target\"},{\"ColumnName\":\"QualityIndexTarget\",\"Value\":\"Quality index Target\"},{\"ColumnName\":\"ProductName\",\"Value\":\"Product Name (Local)\"},{\"ColumnName\":\"CatalogID\",\"Value\":\"ERP Product CatalogID\"},{\"ColumnName\":\"MachineID\",\"Value\":\"Machine- MaticsID\"},{\"ColumnName\":\"WorkerID\",\"Value\":\"Worker ID\"},{\"ColumnName\":\"WorkerName\",\"Value\":\"Worker Name\"},{\"ColumnName\":\"CycleTimeStandard\",\"Value\":\"Standard Cycle Time\"},{\"ColumnName\":\"Units/Hour std\",\"Value\":\"Units/Hour (std.)\"},{\"ColumnName\":\"Units/Min std\",\"Value\":\"Units/Min (std.)\"},{\"ColumnName\":\"ActiveTime\",\"Value\":\"Active Time\"},{\"ColumnName\":\"Duration\",\"Value\":\"Duration\"},{\"ColumnName\":\"UnitsReportedOK\",\"Value\":\"Units Reported OK\"},{\"ColumnName\":\"PercentageByNumberOfEvents\",\"Value\":\"% Reported Events (amount)\"},{\"ColumnName\":\"PercentageByDurationOfEvents\",\"Value\":\"% Reported Events (duration)\"},{\"ColumnName\":\"UnitsRatio\",\"Value\":\"Performance\"},{\"ColumnName\":\"InActiveTime\",\"Value\":\"Inactive Time\"},{\"ColumnName\":\"TotalUnitsJosh\",\"Value\":\"Total Units Shift\"},{\"ColumnName\":\"NumberOfSetups\",\"Value\":\"Number Of Setups\"},{\"ColumnName\":\"SetupDuration\",\"Value\":\"Setup duration\"},{\"ColumnName\":\"NumberOfReportedEvents\",\"Value\":\"Number Of Reported Events\"},{\"ColumnName\":\"ReportedEventsDuration\",\"Value\":\"Reported Events Duration\"},{\"ColumnName\":\"EventsDuration\",\"Value\":\"Event duration\"},{\"ColumnName\":\"JoshID\",\"Value\":\"Josh\"},{\"ColumnName\":\"JobID\",\"Value\":\"Job\"},{\"ColumnName\":\"Notes\",\"Value\":\"Notes\"},{\"ColumnName\":\"ERPJobID\",\"Value\":\"ERP Job\"},{\"ColumnName\":\"CavitiesEfficiencyTarget\",\"Value\":\"Units In Cycle Efficiency Target\"},{\"ColumnName\":\"ProductName\",\"Value\":\"Product Name\"},{\"ColumnName\":\"ShiftName\",\"Value\":\"Shift name\"},{\"ColumnName\":\"JoshStartTime\",\"Value\":\"Josh Start Time\"},{\"ColumnName\":\"JoshEndTime\",\"Value\":\"Josh End Time\"},{\"ColumnName\":\"Units/Hour Actual\",\"Value\":\"Units/Hour (avg.)\"},{\"ColumnName\":\"Units/Min Actual\",\"Value\":\"Units/Min (avg.)\"}],\"Colors\":[{\"ColorName\":\"AvailabilityPE\",\"HexCode\":\"#0080ff\"},{\"ColorName\":\"QualityIndex\",\"HexCode\":\"#a3c8ff\"},{\"ColorName\":\"CycleTimeEfficiency\",\"HexCode\":\"#29acaf\"},{\"ColorName\":\"PE\",\"HexCode\":\"#9b86b0\"},{\"ColorName\":\"CavitiesEfficiency\",\"HexCode\":\"#8f8f8f\"},{\"ColorName\":\"PercentageByNumberOfEvents\",\"HexCode\":\"#f5bcb3\"},{\"ColorName\":\"PercentageByDurationOfEvents\",\"HexCode\":\"#D47E70\"}]},\"ResponseExpandoObjectDictionary\":null,\"ResponseDictionaryValues\":null,\"ResponseDataTable\":[],\"route\":\"GetMachinesPerformanceTotals\",\"reqParams\":null,\"restangularized\":true,\"fromServer\":true,\"parentResource\":null,\"restangularCollection\":false},{\"error\":null,\"Data\":[],\"ResponseList\":null,\"Response\":null,\"ResponseDictionary\":null,\"ResponseDictionaryDT\":{\"Data\":[],\"Translate\":[{\"ColumnName\":\"WeightOfRejects\",\"Value\":\"Weight of rejects (grm)\"},{\"ColumnName\":\"DownTime\",\"Value\":\"Down Time\"},{\"ColumnName\":\"NumberOfEvents\",\"Value\":\"Number Of Events\"},{\"ColumnName\":\"UnitsProducedOK\",\"Value\":\"Good Units\"},{\"ColumnName\":\"RejectsTotal\",\"Value\":\"Rejects\"},{\"ColumnName\":\"UnitsProducedTheoretically\",\"Value\":\"Theoretical Units\"},{\"ColumnName\":\"PETarget\",\"Value\":\"OEE Target\"},{\"ColumnName\":\"CavitiesEfficiency\",\"Value\":\"Units In Cycle Efficiency \"},{\"ColumnName\":\"CycleTimeEfficiency\",\"Value\":\"Rate Efficiency \"},{\"ColumnName\":\"QualityIndex\",\"Value\":\"Quality index \"},{\"ColumnName\":\"ProductionTime\",\"Value\":\"Production time\"},{\"ColumnName\":\"PE\",\"Value\":\"OEE \"},{\"ColumnName\":\"AvailabilityPE\",\"Value\":\"Availability OEE \"},{\"ColumnName\":\"CycleTimeStandard\",\"Value\":\"Standard Cycle Time\"},{\"ColumnName\":\"AvailabilityPETarget\",\"Value\":\"Availability OEE Target\"},{\"ColumnName\":\"CycleTimeEfficiencyTarget\",\"Value\":\"Rate Efficiency Target\"},{\"ColumnName\":\"QualityIndexTarget\",\"Value\":\"Quality index Target\"},{\"ColumnName\":\"ProductName\",\"Value\":\"Product Name (Local)\"},{\"ColumnName\":\"CatalogID\",\"Value\":\"ERP Product CatalogID\"},{\"ColumnName\":\"WorkerID\",\"Value\":\"Worker ID\"},{\"ColumnName\":\"WorkerName\",\"Value\":\"Worker Name\"},{\"ColumnName\":\"CycleTimeStandard\",\"Value\":\"Standard Cycle Time\"},{\"ColumnName\":\"Units/Hour std\",\"Value\":\"Units/Hour (std.)\"},{\"ColumnName\":\"Units/Min std\",\"Value\":\"Units/Min (std.)\"},{\"ColumnName\":\"ActiveTime\",\"Value\":\"Active Time\"},{\"ColumnName\":\"Duration\",\"Value\":\"Duration\"},{\"ColumnName\":\"UnitsReportedOK\",\"Value\":\"Units Reported OK\"},{\"ColumnName\":\"PercentageByNumberOfEvents\",\"Value\":\"% Reported Events (amount)\"},{\"ColumnName\":\"PercentageByDurationOfEvents\",\"Value\":\"% Reported Events (duration)\"},{\"ColumnName\":\"UnitsRatio\",\"Value\":\"Performance\"},{\"ColumnName\":\"InActiveTime\",\"Value\":\"Inactive Time\"},{\"ColumnName\":\"TotalUnitsJosh\",\"Value\":\"Total Units Shift\"},{\"ColumnName\":\"NumberOfSetups\",\"Value\":\"Number Of Setups\"},{\"ColumnName\":\"SetupDuration\",\"Value\":\"Setup duration\"},{\"ColumnName\":\"NumberOfReportedEvents\",\"Value\":\"Number Of Reported Events\"},{\"ColumnName\":\"ReportedEventsDuration\",\"Value\":\"Reported Events Duration\"},{\"ColumnName\":\"EventsDuration\",\"Value\":\"Event duration\"},{\"ColumnName\":\"JoshID\",\"Value\":\"Josh\"},{\"ColumnName\":\"JobID\",\"Value\":\"Job\"},{\"ColumnName\":\"Notes\",\"Value\":\"Notes\"},{\"ColumnName\":\"ERPJobID\",\"Value\":\"ERP Job\"},{\"ColumnName\":\"CavitiesEfficiencyTarget\",\"Value\":\"Units In Cycle Efficiency Target\"},{\"ColumnName\":\"ProductName\",\"Value\":\"Product Name\"},{\"ColumnName\":\"ShiftName\",\"Value\":\"Shift name\"},{\"ColumnName\":\"JoshStartTime\",\"Value\":\"Josh Start Time\"},{\"ColumnName\":\"JoshEndTime\",\"Value\":\"Josh End Time\"},{\"ColumnName\":\"Units/Hour Actual\",\"Value\":\"Units/Hour (avg.)\"},{\"ColumnName\":\"Units/Min Actual\",\"Value\":\"Units/Min (avg.)\"}],\"Colors\":[{\"ColorName\":\"AvailabilityPE\",\"HexCode\":\"#0080ff\"},{\"ColorName\":\"QualityIndex\",\"HexCode\":\"#a3c8ff\"},{\"ColorName\":\"CycleTimeEfficiency\",\"HexCode\":\"#29acaf\"},{\"ColorName\":\"PE\",\"HexCode\":\"#9b86b0\"},{\"ColorName\":\"CavitiesEfficiency\",\"HexCode\":\"#8f8f8f\"},{\"ColorName\":\"PercentageByNumberOfEvents\",\"HexCode\":\"#f5bcb3\"},{\"ColorName\":\"PercentageByDurationOfEvents\",\"HexCode\":\"#D47E70\"}]},\"ResponseExpandoObjectDictionary\":null,\"ResponseDictionaryValues\":null,\"ResponseDataTable\":[],\"route\":\"GetWorkersPerformanceTotals\",\"reqParams\":null,\"restangularized\":true,\"fromServer\":true,\"parentResource\":null,\"restangularCollection\":false}]"    
    //             data = JSON.parse(data)
    //              shiftService.shiftData.machinesPerformanceData = data
    //           })
    //           .catch((err) => {
    //             console.error(err);
    //           });
    //       })
    //       .catch((err) => {
    //         console.error(err);
    //       });
    //   };

    //  var initMachinePerofrmanceWrapper = function () {
    //     if (initTimeout) {
    //       $timeout.cancel( initTimeout);
    //     }
    //      initTimeout = $timeout(function () {
    //       initMachinePerofrmance();
    //     }, 350);
    //   };



      return {
        // initMachinePerofrmanceWrapper: initMachinePerofrmanceWrapper
      };
    }
  );
